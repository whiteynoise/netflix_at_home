name: LTN

on:
  push:
    branches: [ mypy_fixes ]
  pull_request:
    branches: [ mypy_fixes ]

jobs:
  # lint:
  #   runs-on: ubuntu-latest

  #   outputs:
  #     flake_output: ${{ steps.artifact-upload-step.outputs.artifact-url }}

  #   steps:
  #     - name: Checkout repository
  #       uses: actions/checkout@v2

  #     - name: Install dependencies
  #       run: |
  #         pip install flake8-html

  #     - name: Linter Check
  #       run: |
  #         flake8 . --format=html --htmldir=flake-report --max-line-length=120 || exit 1
          
  #     - name: Upload Linter Report
  #       id: artifact-upload-step
  #       if: failure()
  #       uses: actions/upload-artifact@v4
  #       with:
  #         name: flake8-report
  #         path: flake-report

  mypy:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout repository
        uses: actions/checkout@v2

      - name: Install dependencies
        run: pip install mypy

      - name: Run Mypy
        run: |
          mypy . || exit 1

  # notify:
  #   runs-on: ubuntu-latest
  #   needs: [lint, mypy]
  #   if: always()

  #   steps:
  #     - name: Send Telegram Notification
  #       uses: appleboy/telegram-action@master
  #       with:
  #         to: ${{ secrets.CHAT_ID_AW }}
  #         token: ${{ secrets.TELEGRAM_BOT_TOKEN }}
  #         message: |
  #           ğŸ¦â€â¬›ï¸ ĞŸÑ‚Ğ¸Ñ†Ñ‹ Ğ½Ğ°Ğ±Ğ»ÑĞ´Ğ°ÑÑ‚ Ğ·Ğ° ÑƒÑĞ¿ĞµÑ…Ğ°Ğ¼Ğ¸ Ğ´ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ğ¹ ${{ github.actor }}.

  #           ğŸ” Results:
  #               Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ĞºĞ¸ flake: ${{ needs.lint.result == 'success' && ' ğŸŸ¢' || ' ğŸ”´' }}
  #               Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ĞºĞ¸ mypy: ${{ needs.mypy.result == 'success' && 'ğŸŸ¢' || 'ğŸ”´' }}
                
  #           ğŸ’» Commit:
  #           https://github.com/${{ github.repository }}/commit/${{ github.sha }}

  #           ğŸ›  Run:
  #           https://github.com/${{ github.repository }}/actions/runs/${{ github.run_id }}

  #           ${{ needs.lint.result != 'success' && 'ğŸ“‹ Report from flake:' || '' }}
  #           ${{ needs.lint.outputs.flake_output }}
            
